open supabase\.temp\profile: The system cannot find the file specified.
Loading project ref from file: supabase\.temp\project-ref
WARN: environment variable is unset: SUPABASE_AUTH_EXTERNAL_APPLE_CLIENT_ID
WARN: environment variable is unset: SUPABASE_AUTH_EXTERNAL_APPLE_SECRET
WARN: environment variable is unset: SUPABASE_AUTH_EXTERNAL_GOOGLE_CLIENT_ID
WARN: environment variable is unset: SUPABASE_AUTH_EXTERNAL_GOOGLE_SECRET
Resolved DNS: [2a05:d014:1c06:5f28:55ca:ce30:4ff6:29dc]:5432
Initialising login role...
Using access token for profile: supabase
Supabase CLI 2.72.2
Using profile: supabase (supabase.co)
Connecting to remote database...
2026/01/10 00:26:48 PG Send: {"Type":"StartupMessage","ProtocolVersion":196608,"Parameters":{"database":"postgres","user":"cli_login_postgres"}}
2026/01/10 00:26:48 PG Recv: {"Type":"AuthenticationSASL","AuthMechanisms":["SCRAM-SHA-256"]}
2026/01/10 00:26:48 PG Send: {"Type":"SASLInitialResponse","AuthMechanism":"SCRAM-SHA-256","Data":"n,,n=,r=lrqZVpdwiQX8Jmv41USi5OaJ"}
2026/01/10 00:26:48 PG Recv: {"Type":"AuthenticationSASLContinue","Data":"r=lrqZVpdwiQX8Jmv41USi5OaJK0zAbnkqr8ieDSwfU2/v+sat,s=PROU0bNiMsmMtXJo/rfc9w==,i=4096"}
2026/01/10 00:26:48 PG Send: {"Type":"SASLResponse","Data":"c=biws,r=lrqZVpdwiQX8Jmv41USi5OaJK0zAbnkqr8ieDSwfU2/v+sat,p=DaD+L/m0+588uJTUxLZ3KPKTwBINJewOtPbXWwB94tc="}
2026/01/10 00:26:49 PG Recv: {"Type":"AuthenticationSASLFinal","Data":"v=RDPVhAQSlgNZCiLdMww+uhTrlcVxq7jmgrVLs4R7Fyk="}
2026/01/10 00:26:49 PG Recv: {"Type":"AuthenticationOK"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterStatus","Name":"in_hot_standby","Value":"off"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterStatus","Name":"integer_datetimes","Value":"on"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterStatus","Name":"TimeZone","Value":"UTC"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterStatus","Name":"IntervalStyle","Value":"postgres"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterStatus","Name":"is_superuser","Value":"off"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterStatus","Name":"application_name","Value":""}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterStatus","Name":"default_transaction_read_only","Value":"off"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterStatus","Name":"scram_iterations","Value":"4096"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterStatus","Name":"DateStyle","Value":"ISO, MDY"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterStatus","Name":"standard_conforming_strings","Value":"on"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterStatus","Name":"session_authorization","Value":"cli_login_postgres"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterStatus","Name":"client_encoding","Value":"UTF8"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterStatus","Name":"server_version","Value":"17.6"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterStatus","Name":"server_encoding","Value":"UTF8"}
2026/01/10 00:26:49 PG Recv: {"Type":"BackendKeyData","ProcessID":190229,"SecretKey":3550641108}
2026/01/10 00:26:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2026/01/10 00:26:49 PG Send: {"Type":"Query","String":"SET SESSION ROLE postgres"}
2026/01/10 00:26:49 PG Recv: {"Type":"CommandComplete","CommandTag":"SET"}
2026/01/10 00:26:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2026/01/10 00:26:49 PG Send: {"Type":"Parse","Name":"lrupsc_1_0","Query":"SELECT version FROM supabase_migrations.schema_migrations ORDER BY version","ParameterOIDs":null}
2026/01/10 00:26:49 PG Send: {"Type":"Describe","ObjectType":"S","Name":"lrupsc_1_0"}
2026/01/10 00:26:49 PG Send: {"Type":"Sync"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParseComplete"}
2026/01/10 00:26:49 PG Recv: {"Type":"ParameterDescription","ParameterOIDs":[]}
2026/01/10 00:26:49 PG Recv: {"Type":"RowDescription","Fields":[{"Name":"version","TableOID":21471,"TableAttributeNumber":1,"DataTypeOID":25,"DataTypeSize":-1,"TypeModifier":-1,"Format":0}]}
2026/01/10 00:26:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2026/01/10 00:26:49 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"lrupsc_1_0","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[0]}
2026/01/10 00:26:49 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/01/10 00:26:49 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/01/10 00:26:49 PG Send: {"Type":"Sync"}
2026/01/10 00:26:49 PG Recv: {"Type":"BindComplete"}
2026/01/10 00:26:49 PG Recv: {"Type":"RowDescription","Fields":[{"Name":"version","TableOID":21471,"TableAttributeNumber":1,"DataTypeOID":25,"DataTypeSize":-1,"TypeModifier":-1,"Format":0}]}
2026/01/10 00:26:49 PG Recv: {"Type":"DataRow","Values":[{"text":"20250103"}]}
2026/01/10 00:26:49 PG Recv: {"Type":"DataRow","Values":[{"text":"20250127"}]}
2026/01/10 00:26:49 PG Recv: {"Type":"DataRow","Values":[{"text":"20250128"}]}
2026/01/10 00:26:49 PG Recv: {"Type":"DataRow","Values":[{"text":"20260103"}]}
2026/01/10 00:26:49 PG Recv: {"Type":"DataRow","Values":[{"text":"20260115"}]}
2026/01/10 00:26:49 PG Recv: {"Type":"DataRow","Values":[{"text":"20260126"}]}
2026/01/10 00:26:49 PG Recv: {"Type":"CommandComplete","CommandTag":"SELECT 6"}
2026/01/10 00:26:49 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Skipping migration add_restaurants_category.sql... (file name must match pattern "<timestamp>_name.sql")
Skipping migration create_reports_table.sql... (file name must match pattern "<timestamp>_name.sql")
Skipping migration fix_categories_table.sql... (file name must match pattern "<timestamp>_name.sql")
Skipping migration fix_security_warnings.sql... (file name must match pattern "<timestamp>_name.sql")
Do you want to push these migrations to the remote database?
 ظت 20260126_fix_function_search_paths.sql
 ظت 20260127_add_request_views_functions.sql
 ظت 20260127_create_test_accounts.sql
 ظت 20260127_fix_offers_rls.sql
 ظت 20260128_force_fix_offers_rls.sql

 [Y/n] 2026/01/10 00:27:04 PG Send: {"Type":"Parse","Name":"","Query":"SET lock_timeout = '4s'","ParameterOIDs":null}
2026/01/10 00:27:04 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/01/10 00:27:04 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/01/10 00:27:04 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/01/10 00:27:04 PG Send: {"Type":"Parse","Name":"","Query":"CREATE SCHEMA IF NOT EXISTS supabase_migrations","ParameterOIDs":null}
2026/01/10 00:27:04 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/01/10 00:27:04 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/01/10 00:27:04 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/01/10 00:27:04 PG Send: {"Type":"Parse","Name":"","Query":"CREATE TABLE IF NOT EXISTS supabase_migrations.schema_migrations (version text NOT NULL PRIMARY KEY)","ParameterOIDs":null}
2026/01/10 00:27:04 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/01/10 00:27:04 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/01/10 00:27:04 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/01/10 00:27:04 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE supabase_migrations.schema_migrations ADD COLUMN IF NOT EXISTS statements text[]","ParameterOIDs":null}
2026/01/10 00:27:04 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/01/10 00:27:04 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/01/10 00:27:04 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/01/10 00:27:04 PG Send: {"Type":"Parse","Name":"","Query":"ALTER TABLE supabase_migrations.schema_migrations ADD COLUMN IF NOT EXISTS name text","ParameterOIDs":null}
2026/01/10 00:27:04 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/01/10 00:27:04 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/01/10 00:27:04 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/01/10 00:27:04 PG Send: {"Type":"Sync"}
2026/01/10 00:27:04 PG Recv: {"Type":"ParseComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"BindComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"NoData"}
2026/01/10 00:27:04 PG Recv: {"Type":"CommandComplete","CommandTag":"SET"}
2026/01/10 00:27:04 PG Recv: {"Type":"ParseComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"BindComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"NoData"}
2026/01/10 00:27:04 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P06","Message":"schema \"supabase_migrations\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"schemacmds.c","Line":132,"Routine":"CreateSchemaCommand","UnknownFields":null}
2026/01/10 00:27:04 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE SCHEMA"}
2026/01/10 00:27:04 PG Recv: {"Type":"ParseComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"BindComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"NoData"}
2026/01/10 00:27:04 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42P07","Message":"relation \"schema_migrations\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"parse_utilcmd.c","Line":207,"Routine":"transformCreateStmt","UnknownFields":null}
2026/01/10 00:27:04 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE TABLE"}
2026/01/10 00:27:04 PG Recv: {"Type":"ParseComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"BindComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"NoData"}
2026/01/10 00:27:04 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"statements\" of relation \"schema_migrations\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/01/10 00:27:04 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2026/01/10 00:27:04 PG Recv: {"Type":"ParseComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"BindComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"NoData"}
2026/01/10 00:27:04 PG Recv: {"Severity":"NOTICE","SeverityUnlocalized":"NOTICE","Code":"42701","Message":"column \"name\" of relation \"schema_migrations\" already exists, skipping","Detail":"","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"","TableName":"","ColumnName":"","DataTypeName":"","ConstraintName":"","File":"tablecmds.c","Line":7471,"Routine":"check_for_column_name_collision","UnknownFields":null}
2026/01/10 00:27:04 PG Recv: {"Type":"CommandComplete","CommandTag":"ALTER TABLE"}
2026/01/10 00:27:04 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
Applying migration 20260126_fix_function_search_paths.sql...
2026/01/10 00:27:04 PG Send: {"Type":"Query","String":"RESET ALL"}
2026/01/10 00:27:04 PG Recv: {"Type":"CommandComplete","CommandTag":"RESET"}
2026/01/10 00:27:04 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
2026/01/10 00:27:04 PG Send: {"Type":"Parse","Name":"","Query":"-- ==============================================================================\r\n-- ╪ح╪╡┘╪د╪ص ╪ز╪ص╪░┘è╪▒╪د╪ز Linter: Function Search Path Mutable\r\n-- Fixes: notify_on_new_offer, notify_on_offer_accepted, notify_on_new_message, notify_on_new_interest_request\r\n-- Explicitly setting search_path = public to prevent potential security issues.\r\n-- ==============================================================================\r\n\r\n-- 1. notify_on_new_offer\r\nCREATE OR REPLACE FUNCTION notify_on_new_offer()\r\nRETURNS TRIGGER\r\nLANGUAGE plpgsql\r\nSECURITY DEFINER\r\nSET search_path = public\r\nAS $$\r\nDECLARE\r\n  request_owner_id UUID;\r\n  request_title TEXT;\r\n  request_author_name TEXT;\r\n  offer_provider_name TEXT;\r\nBEGIN\r\n  -- Get request details\r\n  SELECT \r\n    r.author_id,\r\n    r.title,\r\n    COALESCE(p.display_name, '┘à╪│╪ز╪«╪»┘à')\r\n  INTO request_owner_id, request_title, request_author_name\r\n  FROM requests r\r\n  LEFT JOIN profiles p ON p.id = r.author_id\r\n  WHERE r.id = NEW.request_id;\r\n  \r\n  -- Get offer provider name\r\n  SELECT COALESCE(provider_name, '┘à╪▓┘ê╪» ╪«╪»┘à╪ر')\r\n  INTO offer_provider_name\r\n  FROM offers\r\n  WHERE id = NEW.id;\r\n  \r\n  -- Create notification for request owner\r\n  IF request_owner_id IS NOT NULL THEN\r\n    INSERT INTO notifications (user_id, type, title, message, link_to, related_request_id, related_offer_id)\r\n    VALUES (\r\n      request_owner_id,\r\n      'offer',\r\n      '╪╣╪▒╪╢ ╪ش╪»┘è╪» ╪╣┘┘ë ╪╖┘╪ذ┘â',\r\n      '╪╣╪▒╪╢ ╪ش╪»┘è╪» ┘à┘ ' || offer_provider_name || ' ╪╣┘┘ë ╪╖┘╪ذ┘â: ' || COALESCE(request_title, '╪╖┘╪ذ'),\r\n      '/request/' || NEW.request_id,\r\n      NEW.request_id,\r\n      NEW.id\r\n    );\r\n  END IF;\r\n  \r\n  RETURN NEW;\r\nEND;\r\n$$","ParameterOIDs":null}
2026/01/10 00:27:04 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/01/10 00:27:04 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/01/10 00:27:04 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/01/10 00:27:04 PG Send: {"Type":"Parse","Name":"","Query":"-- 2. notify_on_offer_accepted\r\nCREATE OR REPLACE FUNCTION notify_on_offer_accepted()\r\nRETURNS TRIGGER\r\nLANGUAGE plpgsql\r\nSECURITY DEFINER\r\nSET search_path = public\r\nAS $$\r\nDECLARE\r\n  offer_provider_id UUID;\r\n  request_title TEXT;\r\nBEGIN\r\n  -- Only trigger when status changes to 'accepted'\r\n  IF NEW.status = 'accepted' AND (OLD.status IS NULL OR OLD.status != 'accepted') THEN\r\n    -- Get offer provider\r\n    SELECT provider_id INTO offer_provider_id\r\n    FROM offers\r\n    WHERE id = NEW.id;\r\n    \r\n    -- Get request title\r\n    SELECT title INTO request_title\r\n    FROM requests\r\n    WHERE id = NEW.request_id;\r\n    \r\n    -- Create notification for offer provider\r\n    IF offer_provider_id IS NOT NULL THEN\r\n      INSERT INTO notifications (user_id, type, title, message, link_to, related_request_id, related_offer_id)\r\n      VALUES (\r\n        offer_provider_id,\r\n        'status',\r\n        '╪ز┘à ┘é╪ذ┘ê┘ ╪╣╪▒╪╢┘â! ≡اë',\r\n        '╪ز┘à ┘é╪ذ┘ê┘ ╪╣╪▒╪╢┘â ╪╣┘┘ë ╪╖┘╪ذ: ' || COALESCE(request_title, '╪╖┘╪ذ'),\r\n        '/request/' || NEW.request_id,\r\n        NEW.request_id,\r\n        NEW.id\r\n      );\r\n    END IF;\r\n  END IF;\r\n  \r\n  RETURN NEW;\r\nEND;\r\n$$","ParameterOIDs":null}
2026/01/10 00:27:04 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/01/10 00:27:04 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/01/10 00:27:04 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/01/10 00:27:04 PG Send: {"Type":"Parse","Name":"","Query":"-- 3. notify_on_new_message\r\nCREATE OR REPLACE FUNCTION notify_on_new_message()\r\nRETURNS TRIGGER\r\nLANGUAGE plpgsql\r\nSECURITY DEFINER\r\nSET search_path = public\r\nAS $$\r\nDECLARE\r\n  conversation_record conversations%ROWTYPE;\r\n  recipient_id UUID;\r\n  sender_name TEXT;\r\n  request_title TEXT;\r\n  message_preview TEXT;\r\nBEGIN\r\n  -- Get conversation details\r\n  SELECT * INTO conversation_record\r\n  FROM conversations\r\n  WHERE id = NEW.conversation_id;\r\n  \r\n  -- Determine recipient (the other participant)\r\n  IF conversation_record.participant1_id = NEW.sender_id THEN\r\n    recipient_id := conversation_record.participant2_id;\r\n  ELSE\r\n    recipient_id := conversation_record.participant1_id;\r\n  END IF;\r\n  \r\n  -- Get sender name\r\n  SELECT COALESCE(display_name, '┘à╪│╪ز╪«╪»┘à')\r\n  INTO sender_name\r\n  FROM profiles\r\n  WHERE id = NEW.sender_id;\r\n  \r\n  -- Get request title if exists\r\n  IF conversation_record.request_id IS NOT NULL THEN\r\n    SELECT title INTO request_title\r\n    FROM requests\r\n    WHERE id = conversation_record.request_id;\r\n  END IF;\r\n  \r\n  -- Create message preview\r\n  message_preview := LEFT(NEW.content, 50);\r\n  IF LENGTH(NEW.content) \u003e 50 THEN\r\n    message_preview := message_preview || '...';\r\n  END IF;\r\n  \r\n  -- Create notification for recipient\r\n  IF recipient_id IS NOT NULL THEN\r\n    INSERT INTO notifications (user_id, type, title, message, link_to, related_message_id, related_request_id, related_offer_id)\r\n    VALUES (\r\n      recipient_id,\r\n      'message',\r\n      '╪▒╪│╪د┘╪ر ╪ش╪»┘è╪»╪ر ┘à┘ ' || sender_name,\r\n      CASE \r\n        WHEN request_title IS NOT NULL THEN\r\n          message_preview || ' (┘┘è: ' || request_title || ')'\r\n        ELSE\r\n          message_preview\r\n      END,\r\n      '/messages/' || NEW.conversation_id,\r\n      NEW.id,\r\n      conversation_record.request_id,\r\n      conversation_record.offer_id\r\n    );\r\n  END IF;\r\n  \r\n  RETURN NEW;\r\nEND;\r\n$$","ParameterOIDs":null}
2026/01/10 00:27:04 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/01/10 00:27:04 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/01/10 00:27:04 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/01/10 00:27:04 PG Send: {"Type":"Parse","Name":"","Query":"-- 4. notify_on_new_interest_request\r\nCREATE OR REPLACE FUNCTION notify_on_new_interest_request()\r\nRETURNS TRIGGER\r\nLANGUAGE plpgsql\r\nSECURITY DEFINER\r\nSET search_path = public\r\nAS $$\r\nDECLARE\r\n  request_categories TEXT[];\r\n  request_city TEXT;\r\n  request_title TEXT;\r\n  request_author_name TEXT;\r\n  matching_user_id UUID;\r\n  user_categories TEXT[];\r\n  user_cities TEXT[];\r\nBEGIN\r\n  -- Only process active, public requests\r\n  IF NEW.status != 'active' OR NEW.is_public != TRUE THEN\r\n    RETURN NEW;\r\n  END IF;\r\n\r\n  -- Get request details\r\n  SELECT \r\n    r.title,\r\n    COALESCE(p.display_name, '┘à╪│╪ز╪«╪»┘à'),\r\n    r.location,\r\n    r.location_city\r\n  INTO request_title, request_author_name, request_city, request_city\r\n  FROM requests r\r\n  LEFT JOIN profiles p ON p.id = r.author_id\r\n  WHERE r.id = NEW.id;\r\n\r\n  -- Get request categories\r\n  SELECT ARRAY_AGG(c.label)\r\n  INTO request_categories\r\n  FROM request_categories rc\r\n  JOIN categories c ON c.id = rc.category_id\r\n  WHERE rc.request_id = NEW.id;\r\n\r\n  -- Find users with matching interests who haven't read this request\r\n  FOR matching_user_id, user_categories, user_cities IN\r\n    SELECT \r\n      p.id,\r\n      COALESCE(p.interested_categories, ARRAY[]::TEXT[]),\r\n      COALESCE(p.interested_cities, ARRAY[]::TEXT[])\r\n    FROM profiles p\r\n    WHERE p.notify_on_interest = TRUE\r\n      -- Don't send notification if user already viewed (is_viewed = true) or read (is_read = true) this request\r\n      AND NOT EXISTS (\r\n        SELECT 1 FROM request_views rv\r\n        WHERE rv.request_id = NEW.id\r\n          AND rv.user_id = p.id\r\n          AND (rv.is_viewed = TRUE OR rv.is_read = TRUE)\r\n      )\r\n      AND (\r\n        -- Match categories\r\n        (array_length(p.interested_categories, 1) IS NOT NULL AND\r\n         EXISTS (\r\n           SELECT 1 FROM unnest(p.interested_categories) AS cat\r\n           WHERE EXISTS (\r\n             SELECT 1 FROM unnest(COALESCE(request_categories, ARRAY[]::TEXT[])) AS req_cat\r\n             WHERE req_cat ILIKE '%' || cat || '%' OR cat ILIKE '%' || req_cat || '%'\r\n           )\r\n         ))\r\n        OR\r\n        -- Match cities\r\n        (array_length(p.interested_cities, 1) IS NOT NULL AND\r\n         (request_city ILIKE ANY(SELECT '%' || city || '%' FROM unnest(p.interested_cities) AS city)\r\n          OR EXISTS (\r\n            SELECT 1 FROM unnest(p.interested_cities) AS city\r\n            WHERE request_city ILIKE '%' || city || '%'\r\n          )))\r\n      )\r\n  LOOP\r\n    -- Create notification for matching user\r\n    INSERT INTO notifications (user_id, type, title, message, link_to, related_request_id)\r\n    VALUES (\r\n      matching_user_id,\r\n      'interest',\r\n      '╪╖┘╪ذ ╪ش╪»┘è╪» ┘è╪╖╪د╪ذ┘é ╪د┘ç╪ز┘à╪د┘à╪د╪ز┘â',\r\n      '╪╖┘╪ذ ╪ش╪»┘è╪»: ' || COALESCE(request_title, '╪╖┘╪ذ') || ' ┘à┘ ' || request_author_name,\r\n      '/request/' || NEW.id,\r\n      NEW.id\r\n    );\r\n  END LOOP;\r\n  \r\n  RETURN NEW;\r\nEND;\r\n$$","ParameterOIDs":null}
2026/01/10 00:27:04 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":null,"Parameters":[],"ResultFormatCodes":[]}
2026/01/10 00:27:04 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/01/10 00:27:04 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/01/10 00:27:04 PG Send: {"Type":"Parse","Name":"","Query":"INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)","ParameterOIDs":[25,25,1009]}
2026/01/10 00:27:04 PG Send: {"Type":"Bind","DestinationPortal":"","PreparedStatement":"","ParameterFormatCodes":[0,0,1],"Parameters":[{"text":"20260126"},{"text":"fix_function_search_paths"},{"binary":"00000001000000000000001900000004000000010000068a2d2d203d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d0d0a2d2d20d8a5d8b5d984d8a7d8ad20d8aad8add8b0d98ad8b1d8a7d8aa204c696e7465723a2046756e6374696f6e205365617263682050617468204d757461626c650d0a2d2d2046697865733a206e6f746966795f6f6e5f6e65775f6f666665722c206e6f746966795f6f6e5f6f666665725f61636365707465642c206e6f746966795f6f6e5f6e65775f6d6573736167652c206e6f746966795f6f6e5f6e65775f696e7465726573745f726571756573740d0a2d2d204578706c696369746c792073657474696e67207365617263685f70617468203d207075626c696320746f2070726576656e7420706f74656e7469616c207365637572697479206973737565732e0d0a2d2d203d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d0d0a0d0a2d2d20312e206e6f746966795f6f6e5f6e65775f6f666665720d0a435245415445204f52205245504c4143452046554e4354494f4e206e6f746966795f6f6e5f6e65775f6f6666657228290d0a52455455524e5320545249474745520d0a4c414e475541474520706c706773716c0d0a534543555249545920444546494e45520d0a534554207365617263685f70617468203d207075626c69630d0a41532024240d0a4445434c4152450d0a2020726571756573745f6f776e65725f696420555549443b0d0a2020726571756573745f7469746c6520544558543b0d0a2020726571756573745f617574686f725f6e616d6520544558543b0d0a20206f666665725f70726f76696465725f6e616d6520544558543b0d0a424547494e0d0a20202d2d2047657420726571756573742064657461696c730d0a202053454c454354200d0a20202020722e617574686f725f69642c0d0a20202020722e7469746c652c0d0a20202020434f414c4553434528702e646973706c61795f6e616d652c2027d985d8b3d8aad8aed8afd98527290d0a2020494e544f20726571756573745f6f776e65725f69642c20726571756573745f7469746c652c20726571756573745f617574686f725f6e616d650d0a202046524f4d20726571756573747320720d0a20204c454654204a4f494e2070726f66696c65732070204f4e20702e6964203d20722e617574686f725f69640d0a2020574845524520722e6964203d204e45572e726571756573745f69643b0d0a20200d0a20202d2d20476574206f666665722070726f7669646572206e616d650d0a202053454c45435420434f414c455343452870726f76696465725f6e616d652c2027d985d8b2d988d8af20d8aed8afd985d8a927290d0a2020494e544f206f666665725f70726f76696465725f6e616d650d0a202046524f4d206f66666572730d0a20205748455245206964203d204e45572e69643b0d0a20200d0a20202d2d20437265617465206e6f74696669636174696f6e20666f722072657175657374206f776e65720d0a2020494620726571756573745f6f776e65725f6964204953204e4f54204e554c4c205448454e0d0a20202020494e5345525420494e544f206e6f74696669636174696f6e732028757365725f69642c20747970652c207469746c652c206d6573736167652c206c696e6b5f746f2c2072656c617465645f726571756573745f69642c2072656c617465645f6f666665725f6964290d0a2020202056414c55455320280d0a202020202020726571756573745f6f776e65725f69642c0d0a202020202020276f66666572272c0d0a20202020202027d8b9d8b1d8b620d8acd8afd98ad8af20d8b9d984d98920d8b7d984d8a8d983272c0d0a20202020202027d8b9d8b1d8b620d8acd8afd98ad8af20d985d9862027207c7c206f666665725f70726f76696465725f6e616d65207c7c202720d8b9d984d98920d8b7d984d8a8d9833a2027207c7c20434f414c4553434528726571756573745f7469746c652c2027d8b7d984d8a827292c0d0a202020202020272f726571756573742f27207c7c204e45572e726571756573745f69642c0d0a2020202020204e45572e726571756573745f69642c0d0a2020202020204e45572e69640d0a20202020293b0d0a2020454e442049463b0d0a20200d0a202052455455524e204e45573b0d0a454e443b0d0a2424000004852d2d20322e206e6f746966795f6f6e5f6f666665725f61636365707465640d0a435245415445204f52205245504c4143452046554e4354494f4e206e6f746966795f6f6e5f6f666665725f616363657074656428290d0a52455455524e5320545249474745520d0a4c414e475541474520706c706773716c0d0a534543555249545920444546494e45520d0a534554207365617263685f70617468203d207075626c69630d0a41532024240d0a4445434c4152450d0a20206f666665725f70726f76696465725f696420555549443b0d0a2020726571756573745f7469746c6520544558543b0d0a424547494e0d0a20202d2d204f6e6c792074726967676572207768656e20737461747573206368616e67657320746f20276163636570746564270d0a20204946204e45572e737461747573203d202761636365707465642720414e4420284f4c442e737461747573204953204e554c4c204f52204f4c442e73746174757320213d202761636365707465642729205448454e0d0a202020202d2d20476574206f666665722070726f76696465720d0a2020202053454c4543542070726f76696465725f696420494e544f206f666665725f70726f76696465725f69640d0a2020202046524f4d206f66666572730d0a202020205748455245206964203d204e45572e69643b0d0a202020200d0a202020202d2d204765742072657175657374207469746c650d0a2020202053454c454354207469746c6520494e544f20726571756573745f7469746c650d0a2020202046524f4d2072657175657374730d0a202020205748455245206964203d204e45572e726571756573745f69643b0d0a202020200d0a202020202d2d20437265617465206e6f74696669636174696f6e20666f72206f666665722070726f76696465720d0a202020204946206f666665725f70726f76696465725f6964204953204e4f54204e554c4c205448454e0d0a202020202020494e5345525420494e544f206e6f74696669636174696f6e732028757365725f69642c20747970652c207469746c652c206d6573736167652c206c696e6b5f746f2c2072656c617465645f726571756573745f69642c2072656c617465645f6f666665725f6964290d0a20202020202056414c55455320280d0a20202020202020206f666665725f70726f76696465725f69642c0d0a202020202020202027737461747573272c0d0a202020202020202027d8aad98520d982d8a8d988d98420d8b9d8b1d8b6d9832120f09f8e89272c0d0a202020202020202027d8aad98520d982d8a8d988d98420d8b9d8b1d8b6d98320d8b9d984d98920d8b7d984d8a83a2027207c7c20434f414c4553434528726571756573745f7469746c652c2027d8b7d984d8a827292c0d0a2020202020202020272f726571756573742f27207c7c204e45572e726571756573745f69642c0d0a20202020202020204e45572e726571756573745f69642c0d0a20202020202020204e45572e69640d0a202020202020293b0d0a20202020454e442049463b0d0a2020454e442049463b0d0a20200d0a202052455455524e204e45573b0d0a454e443b0d0a2424000007642d2d20332e206e6f746966795f6f6e5f6e65775f6d6573736167650d0a435245415445204f52205245504c4143452046554e4354494f4e206e6f746966795f6f6e5f6e65775f6d65737361676528290d0a52455455524e5320545249474745520d0a4c414e475541474520706c706773716c0d0a534543555249545920444546494e45520d0a534554207365617263685f70617468203d207075626c69630d0a41532024240d0a4445434c4152450d0a2020636f6e766572736174696f6e5f7265636f726420636f6e766572736174696f6e7325524f57545950453b0d0a2020726563697069656e745f696420555549443b0d0a202073656e6465725f6e616d6520544558543b0d0a2020726571756573745f7469746c6520544558543b0d0a20206d6573736167655f7072657669657720544558543b0d0a424547494e0d0a20202d2d2047657420636f6e766572736174696f6e2064657461696c730d0a202053454c454354202a20494e544f20636f6e766572736174696f6e5f7265636f72640d0a202046524f4d20636f6e766572736174696f6e730d0a20205748455245206964203d204e45572e636f6e766572736174696f6e5f69643b0d0a20200d0a20202d2d2044657465726d696e6520726563697069656e742028746865206f74686572207061727469636970616e74290d0a2020494620636f6e766572736174696f6e5f7265636f72642e7061727469636970616e74315f6964203d204e45572e73656e6465725f6964205448454e0d0a20202020726563697069656e745f6964203a3d20636f6e766572736174696f6e5f7265636f72642e7061727469636970616e74325f69643b0d0a2020454c53450d0a20202020726563697069656e745f6964203a3d20636f6e766572736174696f6e5f7265636f72642e7061727469636970616e74315f69643b0d0a2020454e442049463b0d0a20200d0a20202d2d204765742073656e646572206e616d650d0a202053454c45435420434f414c4553434528646973706c61795f6e616d652c2027d985d8b3d8aad8aed8afd98527290d0a2020494e544f2073656e6465725f6e616d650d0a202046524f4d2070726f66696c65730d0a20205748455245206964203d204e45572e73656e6465725f69643b0d0a20200d0a20202d2d204765742072657175657374207469746c65206966206578697374730d0a2020494620636f6e766572736174696f6e5f7265636f72642e726571756573745f6964204953204e4f54204e554c4c205448454e0d0a2020202053454c454354207469746c6520494e544f20726571756573745f7469746c650d0a2020202046524f4d2072657175657374730d0a202020205748455245206964203d20636f6e766572736174696f6e5f7265636f72642e726571756573745f69643b0d0a2020454e442049463b0d0a20200d0a20202d2d20437265617465206d65737361676520707265766965770d0a20206d6573736167655f70726576696577203a3d204c454654284e45572e636f6e74656e742c203530293b0d0a20204946204c454e475448284e45572e636f6e74656e7429203e203530205448454e0d0a202020206d6573736167655f70726576696577203a3d206d6573736167655f70726576696577207c7c20272e2e2e273b0d0a2020454e442049463b0d0a20200d0a20202d2d20437265617465206e6f74696669636174696f6e20666f7220726563697069656e740d0a2020494620726563697069656e745f6964204953204e4f54204e554c4c205448454e0d0a20202020494e5345525420494e544f206e6f74696669636174696f6e732028757365725f69642c20747970652c207469746c652c206d6573736167652c206c696e6b5f746f2c2072656c617465645f6d6573736167655f69642c2072656c617465645f726571756573745f69642c2072656c617465645f6f666665725f6964290d0a2020202056414c55455320280d0a202020202020726563697069656e745f69642c0d0a202020202020276d657373616765272c0d0a20202020202027d8b1d8b3d8a7d984d8a920d8acd8afd98ad8afd8a920d985d9862027207c7c2073656e6465725f6e616d652c0d0a20202020202043415345200d0a20202020202020205748454e20726571756573745f7469746c65204953204e4f54204e554c4c205448454e0d0a202020202020202020206d6573736167655f70726576696577207c7c20272028d981d98a3a2027207c7c20726571756573745f7469746c65207c7c202729270d0a2020202020202020454c53450d0a202020202020202020206d6573736167655f707265766965770d0a202020202020454e442c0d0a202020202020272f6d657373616765732f27207c7c204e45572e636f6e766572736174696f6e5f69642c0d0a2020202020204e45572e69642c0d0a202020202020636f6e766572736174696f6e5f7265636f72642e726571756573745f69642c0d0a202020202020636f6e766572736174696f6e5f7265636f72642e6f666665725f69640d0a20202020293b0d0a2020454e442049463b0d0a20200d0a202052455455524e204e45573b0d0a454e443b0d0a242400000b522d2d20342e206e6f746966795f6f6e5f6e65775f696e7465726573745f726571756573740d0a435245415445204f52205245504c4143452046554e4354494f4e206e6f746966795f6f6e5f6e65775f696e7465726573745f7265717565737428290d0a52455455524e5320545249474745520d0a4c414e475541474520706c706773716c0d0a534543555249545920444546494e45520d0a534554207365617263685f70617468203d207075626c69630d0a41532024240d0a4445434c4152450d0a2020726571756573745f63617465676f7269657320544558545b5d3b0d0a2020726571756573745f6369747920544558543b0d0a2020726571756573745f7469746c6520544558543b0d0a2020726571756573745f617574686f725f6e616d6520544558543b0d0a20206d61746368696e675f757365725f696420555549443b0d0a2020757365725f63617465676f7269657320544558545b5d3b0d0a2020757365725f63697469657320544558545b5d3b0d0a424547494e0d0a20202d2d204f6e6c792070726f63657373206163746976652c207075626c69632072657175657374730d0a20204946204e45572e73746174757320213d202761637469766527204f52204e45572e69735f7075626c696320213d2054525545205448454e0d0a2020202052455455524e204e45573b0d0a2020454e442049463b0d0a0d0a20202d2d2047657420726571756573742064657461696c730d0a202053454c454354200d0a20202020722e7469746c652c0d0a20202020434f414c4553434528702e646973706c61795f6e616d652c2027d985d8b3d8aad8aed8afd98527292c0d0a20202020722e6c6f636174696f6e2c0d0a20202020722e6c6f636174696f6e5f636974790d0a2020494e544f20726571756573745f7469746c652c20726571756573745f617574686f725f6e616d652c20726571756573745f636974792c20726571756573745f636974790d0a202046524f4d20726571756573747320720d0a20204c454654204a4f494e2070726f66696c65732070204f4e20702e6964203d20722e617574686f725f69640d0a2020574845524520722e6964203d204e45572e69643b0d0a0d0a20202d2d2047657420726571756573742063617465676f726965730d0a202053454c4543542041525241595f41474728632e6c6162656c290d0a2020494e544f20726571756573745f63617465676f726965730d0a202046524f4d20726571756573745f63617465676f726965732072630d0a20204a4f494e2063617465676f726965732063204f4e20632e6964203d2072632e63617465676f72795f69640d0a202057484552452072632e726571756573745f6964203d204e45572e69643b0d0a0d0a20202d2d2046696e642075736572732077697468206d61746368696e6720696e746572657374732077686f20686176656e27742072656164207468697320726571756573740d0a2020464f52206d61746368696e675f757365725f69642c20757365725f63617465676f726965732c20757365725f63697469657320494e0d0a2020202053454c454354200d0a202020202020702e69642c0d0a202020202020434f414c4553434528702e696e74657265737465645f63617465676f726965732c2041525241595b5d3a3a544558545b5d292c0d0a202020202020434f414c4553434528702e696e74657265737465645f6369746965732c2041525241595b5d3a3a544558545b5d290d0a2020202046524f4d2070726f66696c657320700d0a20202020574845524520702e6e6f746966795f6f6e5f696e746572657374203d20545255450d0a2020202020202d2d20446f6e27742073656e64206e6f74696669636174696f6e206966207573657220616c726561647920766965776564202869735f766965776564203d207472756529206f722072656164202869735f72656164203d207472756529207468697320726571756573740d0a202020202020414e44204e4f542045584953545320280d0a202020202020202053454c45435420312046524f4d20726571756573745f76696577732072760d0a202020202020202057484552452072762e726571756573745f6964203d204e45572e69640d0a20202020202020202020414e442072762e757365725f6964203d20702e69640d0a20202020202020202020414e44202872762e69735f766965776564203d2054525545204f522072762e69735f72656164203d2054525545290d0a202020202020290d0a202020202020414e4420280d0a20202020202020202d2d204d617463682063617465676f726965730d0a20202020202020202861727261795f6c656e67746828702e696e74657265737465645f63617465676f726965732c203129204953204e4f54204e554c4c20414e440d0a20202020202020202045584953545320280d0a202020202020202020202053454c45435420312046524f4d20756e6e65737428702e696e74657265737465645f63617465676f7269657329204153206361740d0a202020202020202020202057484552452045584953545320280d0a2020202020202020202020202053454c45435420312046524f4d20756e6e65737428434f414c4553434528726571756573745f63617465676f726965732c2041525241595b5d3a3a544558545b5d2929204153207265715f6361740d0a202020202020202020202020205748455245207265715f63617420494c494b4520272527207c7c20636174207c7c20272527204f522063617420494c494b4520272527207c7c207265715f636174207c7c202725270d0a2020202020202020202020290d0a20202020202020202029290d0a20202020202020204f520d0a20202020202020202d2d204d61746368206369746965730d0a20202020202020202861727261795f6c656e67746828702e696e74657265737465645f6369746965732c203129204953204e4f54204e554c4c20414e440d0a20202020202020202028726571756573745f6369747920494c494b4520414e592853454c45435420272527207c7c2063697479207c7c202725272046524f4d20756e6e65737428702e696e74657265737465645f636974696573292041532063697479290d0a202020202020202020204f522045584953545320280d0a20202020202020202020202053454c45435420312046524f4d20756e6e65737428702e696e74657265737465645f6369746965732920415320636974790d0a202020202020202020202020574845524520726571756573745f6369747920494c494b4520272527207c7c2063697479207c7c202725270d0a202020202020202020202929290d0a202020202020290d0a20204c4f4f500d0a202020202d2d20437265617465206e6f74696669636174696f6e20666f72206d61746368696e6720757365720d0a20202020494e5345525420494e544f206e6f74696669636174696f6e732028757365725f69642c20747970652c207469746c652c206d6573736167652c206c696e6b5f746f2c2072656c617465645f726571756573745f6964290d0a2020202056414c55455320280d0a2020202020206d61746368696e675f757365725f69642c0d0a20202020202027696e746572657374272c0d0a20202020202027d8b7d984d8a820d8acd8afd98ad8af20d98ad8b7d8a7d8a8d98220d8a7d987d8aad985d8a7d985d8a7d8aad983272c0d0a20202020202027d8b7d984d8a820d8acd8afd98ad8af3a2027207c7c20434f414c4553434528726571756573745f7469746c652c2027d8b7d984d8a82729207c7c202720d985d9862027207c7c20726571756573745f617574686f725f6e616d652c0d0a202020202020272f726571756573742f27207c7c204e45572e69642c0d0a2020202020204e45572e69640d0a20202020293b0d0a2020454e44204c4f4f503b0d0a20200d0a202052455455524e204e45573b0d0a454e443b0d0a2424"}],"ResultFormatCodes":[]}
2026/01/10 00:27:04 PG Send: {"Type":"Describe","ObjectType":"P","Name":""}
2026/01/10 00:27:04 PG Send: {"Type":"Execute","Portal":"","MaxRows":0}
2026/01/10 00:27:04 PG Send: {"Type":"Sync"}
2026/01/10 00:27:04 PG Recv: {"Type":"ParseComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"BindComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"NoData"}
2026/01/10 00:27:04 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2026/01/10 00:27:04 PG Recv: {"Type":"ParseComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"BindComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"NoData"}
2026/01/10 00:27:04 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2026/01/10 00:27:04 PG Recv: {"Type":"ParseComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"BindComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"NoData"}
2026/01/10 00:27:04 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2026/01/10 00:27:04 PG Recv: {"Type":"ParseComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"BindComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"NoData"}
2026/01/10 00:27:04 PG Recv: {"Type":"CommandComplete","CommandTag":"CREATE FUNCTION"}
2026/01/10 00:27:04 PG Recv: {"Type":"ParseComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"BindComplete"}
2026/01/10 00:27:04 PG Recv: {"Type":"NoData"}
2026/01/10 00:27:05 PG Recv: {"Type":"ErrorResponse","Severity":"ERROR","SeverityUnlocalized":"ERROR","Code":"23505","Message":"duplicate key value violates unique constraint \"schema_migrations_pkey\"","Detail":"Key (version)=(20260126) already exists.","Hint":"","Position":0,"InternalPosition":0,"InternalQuery":"","Where":"","SchemaName":"supabase_migrations","TableName":"schema_migrations","ColumnName":"","DataTypeName":"","ConstraintName":"schema_migrations_pkey","File":"nbtinsert.c","Line":666,"Routine":"_bt_check_unique","UnknownFields":null}
2026/01/10 00:27:05 PG Recv: {"Type":"ReadyForQuery","TxStatus":"I"}
ERROR: duplicate key value violates unique constraint "schema_migrations_pkey" (SQLSTATE 23505)
Key (version)=(20260126) already exists.                                                       
At statement: 4                                                                                
INSERT INTO supabase_migrations.schema_migrations(version, name, statements) VALUES($1, $2, $3)
