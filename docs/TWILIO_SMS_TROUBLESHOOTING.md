# ๐ง ุญู ูุดุงูู Twilio SMS ูู Supabase

## โ ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช

### 1. ุงูุชุญูู ูู Supabase Dashboard

ุงุฐูุจ ุฅูู: **Authentication โ Providers โ Phone**

ุชุฃูุฏ ูู:
- โ **Phone provider** ููุนูู
- โ **Twilio** ููุนูู ููุถุจูุท ุจุดูู ุตุญูุญ
- โ **Account SID** ููุฌูุฏ ูุตุญูุญ
- โ **Auth Token** ููุฌูุฏ ูุตุญูุญ
- โ **Message Service SID** ููุฌูุฏ ูุตุญูุญ (ุฅุฐุง ููุช ุชุณุชุฎุฏู Messaging Service)

### 2. ุงูุชุญูู ูู Twilio Console

#### ุฃ. ุงูุชุญูู ูู Messaging Service
1. ุงุฐูุจ ุฅูู: **Messaging โ Services**
2. ุชุฃูุฏ ูู ูุฌูุฏ **Messaging Service** ูุน ุฑูู ูุงุชู
3. ูู **Sender Pool**ุ ุชุฃูุฏ ูู ูุฌูุฏ ุฑูู ูุงุชู ูุถุงู โ

#### ุจ. ุงูุชุญูู ูู Verify Service (ุฅุฐุง ููุช ุชุณุชุฎุฏู Twilio Verify)
1. ุงุฐูุจ ุฅูู: **Verify โ Services**
2. ุชุฃูุฏ ูู ุฃู **SMS Channel** ููุนูู
3. ูู **SMS Channel**ุ ุงุฎุชุฑ **Messaging Service** ุงูุตุญูุญ

### 3. ุงูุชุญูู ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ

ูู Supabase Dashboard โ **Settings โ API**:
- ุชุฃูุฏ ูู ูุฌูุฏ ูุชุบูุฑุงุช Twilio ูู **Environment Variables** (ููุฅูุชุงุฌ)
- ุฃู ูู ููู `.env.local` (ููุชุทููุฑ ุงููุญูู)

---

## ๐ ุงููุดุงูู ุงูุดุงุฆุนุฉ ูุงูุญููู

### ุงููุดููุฉ 1: "Unsupported phone provider" ุฃู "ูุฒูุฏ ุฎุฏูุฉ ุงููุงุชู ุบูุฑ ูุฏุนูู"

**ุงูุณุจุจ**: Verify Service ุบูุฑ ูุฑุชุจุท ุจู Messaging Service

**ุงูุญู**:
1. ุงุฐูุจ ุฅูู Twilio Console โ **Verify โ Services**
2. ุงุฎุชุฑ ุฎุฏูุชู
3. ูู **SMS Channel**:
   - ุชุฃูุฏ ุฃู **SMS Channel is enabled** โ
   - ุงุฎุชุฑ **Messaging Service** ุงูุฐู ูุญุชูู ุนูู ุฑูู ุงููุงุชู
   - ุงุญูุธ ุงูุชุบููุฑุงุช

### ุงููุดููุฉ 2: "Invalid phone number" ุฃู "ุฑูู ุงูุฌูุงู ุบูุฑ ุตุญูุญ"

**ุงูุณุจุจ**: ุชูุณูู ุฑูู ุงููุงุชู ุบูุฑ ุตุญูุญ

**ุงูุญู**:
- ุชุฃูุฏ ูู ุฅุฏุฎุงู ุฑูู ุณุนูุฏู ุตุญูุญ (9 ุฃู 10 ุฃุฑูุงู)
- ุงูููุฏ ููุจู: `501234567` ุฃู `0501234567`
- ุณูุชู ุชุญูููู ุชููุงุฆูุงู ุฅูู: `+966501234567`

### ุงููุดููุฉ 3: "Rate limit exceeded" ุฃู "ุชู ุชุฌุงูุฒ ุงูุญุฏ ุงููุณููุญ"

**ุงูุณุจุจ**: ุทูุจุงุช ูุซูุฑุฉ ุฌุฏุงู

**ุงูุญู**:
- ุงูุชุธุฑ 5 ุซูุงูู ุจูู ูู ุทูุจ
- ุฃู ุงุณุชุฎุฏู ุฑูู ุงุฎุชุจุงุฑ (ูุจุฏุฃ ุจู 555) ูุน ุฑูุฒ 0000

### ุงููุดููุฉ 4: ูุง ุชุตู ุฑุณุงูุฉ SMS

**ุงูุชุญูู**:
1. **Twilio Console โ Logs โ Messaging**:
   - ุชุญูู ูู ูุฌูุฏ ูุญุงููุงุช ุฅุฑุณุงู
   - ุชุญูู ูู ุญุงูุฉ ุงูุฑุณุงุฆู (delivered, failed, etc.)

2. **Twilio Console โ Billing**:
   - ุชุฃูุฏ ูู ูุฌูุฏ ุฑุตูุฏ ูุงูู
   - ุชุฃูุฏ ูู ุฃู ุงูุญุณุงุจ ูุดุท

3. **Supabase Dashboard โ Logs**:
   - ุชุญูู ูู ูุฌูุฏ ุฃุฎุทุงุก ูู ูุญุงููุงุช ุฅุฑุณุงู OTP

### ุงููุดููุฉ 5: "Twilio configuration error"

**ุงูุณุจุจ**: ุจูุงูุงุช Twilio ุบูุฑ ุตุญูุญุฉ ูู Supabase Dashboard

**ุงูุญู**:
1. ุงุฐูุจ ุฅูู Supabase Dashboard โ **Authentication โ Providers โ Phone โ Twilio**
2. ุชุญูู ูู:
   - **Account SID** (ูุจุฏุฃ ุจู `AC...`)
   - **Auth Token**
   - **Message Service SID** (ูุจุฏุฃ ุจู `MG...`) - ุงุฎุชูุงุฑู ุฅุฐุง ููุช ุชุณุชุฎุฏู Messaging Service
3. ุงุญูุธ ุงูุชุบููุฑุงุช

---

## ๐งช ุงุฎุชุจุงุฑ ุณุฑูุน

### 1. ุงุฎุชุจุงุฑ ูุน ุฑูู ูููู (ููุชุทููุฑ)
```
ุงูุฑูู: 0555555555
ุงูุฑูุฒ: 0000
```

### 2. ุงุฎุชุจุงุฑ ูุน ุฑูู ุญูููู
```
ุงูุฑูู: 0501234567 (ุฃู ุฃู ุฑูู ุณุนูุฏู)
ุงูุฑูุฒ: ุณุชุตูู ุฑุณุงูุฉ SMS
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ููุชุทููุฑ ุงููุญูู**: ุงุณุชุฎุฏู ุงูุฃุฑูุงู ุงูุชู ุชุจุฏุฃ ุจู `555` ูุน ุฑูุฒ `0000`
2. **ููุฅูุชุงุฌ**: ุชุฃูุฏ ูู ุชูุนูู Twilio ูู Supabase Dashboard
3. **ุงูุชูููุฉ**: ูู ุฑุณุงูุฉ SMS ุชููู ุชูุฑูุจุงู $0.05 - $0.08 ููุณุนูุฏูุฉ
4. **Rate Limits**: 
   - 30 ุฑุณุงูุฉ SMS ูู ุงูุณุงุนุฉ (ูู Supabase config)
   - 5 ุซูุงูู ุจูู ูู ุทูุจ OTP

---

## ๐ Debugging

ุงูุชุญ **Console** ูู ุงููุชุตูุญ ูุงุจุญุซ ุนู:
- `๐ฑ Sending OTP to:` - ูุฑุคูุฉ ุงูุฑูู ุงููุฑุณู
- `โ Supabase OTP Error:` - ูุฑุคูุฉ ุชูุงุตูู ุงูุฎุทุฃ
- `โ OTP sent successfully` - ููุชุฃูุฏ ูู ุงููุฌุงุญ

---

## โ Checklist

ูุจู ุงูุฅุจูุงุบ ุนู ูุดููุฉุ ุชุฃูุฏ ูู:
- [ ] Twilio ููุนูู ูู Supabase Dashboard
- [ ] Account SID ู Auth Token ุตุญูุญูู
- [ ] Messaging Service ูุญุชูู ุนูู ุฑูู ูุงุชู
- [ ] Verify Service ูุฑุชุจุท ุจู Messaging Service (ุฅุฐุง ููุช ุชุณุชุฎุฏู Verify)
- [ ] ุงูุฑุตูุฏ ูู Twilio ูุงูู
- [ ] ุงูุฑูู ุงููุฏุฎู ุตุญูุญ (9 ุฃู 10 ุฃุฑูุงู ุณุนูุฏู)
- [ ] ูู ุชุชุฌุงูุฒ Rate Limits

---

## ๐ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

1. ุชุญูู ูู **Console logs** ูู ุงููุชุตูุญ
2. ุชุญูู ูู **Supabase Dashboard โ Logs**
3. ุชุญูู ูู **Twilio Console โ Logs**
4. ุดุงุฑู ุชูุงุตูู ุงูุฎุทุฃ ูู Console

