# ๐ ููุฎุต ุงููุตู ุจูู ุงูุฌุฏุงูู

## โ ุงูุชุตูููุงุช - **ูุง ููุฌุฏ ุชูุฑุงุฑ**

### 1. `categories` - ุงูุชุตูููุงุช ุงูุฃุณุงุณูุฉ ุงููุนุชูุฏุฉ
- **ุงูุบุฑุถ**: ุงูุชุตูููุงุช ุงูุฑุฆูุณูุฉ ุงููุดุทุฉ ูู ุงููุธุงู
- **ุงูุงุณุชุฎุฏุงู**: ุนุฑุถ ุงูุชุตูููุงุช ูู ุงูููุงุชุฑุ Onboardingุ Marketplace
- **ุงูุญุงูุฉ**: โ ุฌุฏูู ุฑุฆูุณู - ูุง ุชูุฑุงุฑ

### 2. `pending_categories` - ุงูุชุตูููุงุช ุงูููุชุฑุญุฉ (ุจุงูุชุธุงุฑ ุงูููุงููุฉ)
- **ุงูุบุฑุถ**: ุชุตูููุงุช ุฌุฏูุฏุฉ ููุชุฑุญุฉ ูู AI ุฃู ุงููุณุชุฎุฏููู ุจุงูุชุธุงุฑ ูุฑุงุฌุนุฉ ุงูุฅุฏุงุฑุฉ
- **ุงูุงุณุชุฎุฏุงู**: ูุธุงู ุงูุงูุชุฑุงุญุงุช (`suggest_new_category`)
- **ุงูุญุงูุฉ**: โ ุฌุฏูู ูููุตู - ูู ุบุฑุถ ูุฎุชูู - ูุง ุชูุฑุงุฑ

### 3. `request_categories` - ุฑุจุท ุงูุทูุจุงุช ุจุงูุชุตูููุงุช (Many-to-Many)
- **ุงูุบุฑุถ**: ุฌุฏูู ุฑุจุท ุจูู `requests` ู `categories` (Junction Table)
- **ุงูุงุณุชุฎุฏุงู**: ุฑุจุท ูู ุทูุจ ุจุชุตูููุงุชู ุงููุชุนุฏุฏุฉ
- **ุงูุญุงูุฉ**: โ ุฌุฏูู ุฑุจุท - ุถุฑูุฑู ููุนูุงูุฉ Many-to-Many - ูุง ุชูุฑุงุฑ

---

## โ๏ธ ุงููุดุงูุฏุงุช - **ููุฌุฏ ุชุฏุงุฎู ูุธููู (ูููู ููุตูุฏ)**

### 1. `request_views` - ุญุงูุฉ ุงููุฑุงุกุฉ (ูููุณุชุฎุฏููู ุงููุณุฌููู ููุท)
- **ุงูุฌูููุฑ**: ุงููุณุชุฎุฏููู ุงููุณุฌููู ููุท โ
- **ุงูุบุฑุถ**: ุชุชุจุน ุญุงูุฉ ุงููุฑุงุกุฉ (`is_read`) ูุฅุฎูุงุก ุงูู badge
- **ุงูุญููู ุงููููุฒุฉ**: `is_read`, `read_at`
- **ุงููููุฏ**: `user_id NOT NULL` - ูุง ูุฏุนู ุงูุฒูุงุฑ
- **ุงูุณุฌูุงุช**: ~35 ุณุฌู
- **ุงูุงุณุชุฎุฏุงู**: 
  - `mark_request_viewed()` - ุนูุฏ ูุชุญ ุตูุญุฉ ุงูุชูุงุตูู
  - `mark_request_read()` - ุนูุฏ ุงูุชูุฑูุฑ 50%+
  - `get_unread_interests_count()` - ุญุณุงุจ ุงูุทูุจุงุช ุบูุฑ ุงูููุฑูุกุฉ

### 2. `request_view_logs` - ุฅุญุตุงุก ุงููุดุงูุฏุงุช (ููุฌููุน)
- **ุงูุฌูููุฑ**: ุงูุฌููุน (ุฒูุงุฑ + ูุณุฌููู) โ
- **ุงูุบุฑุถ**: ุฅุญุตุงุก ุงููุดุงูุฏุงุช ุงูุฅุฌูุงูู ูุงูุชุญูููุงุช
- **ุงูุญููู ุงููููุฒุฉ**: `session_id`, `ip_hash`, `user_agent`
- **ุงููููุฏ**: `user_id NULLABLE` - ูุฏุนู ุงูุฒูุงุฑ
- **ุงูุณุฌูุงุช**: ~12,376+ ุณุฌู
- **ุงูุงุณุชุฎุฏุงู**:
  - `increment_request_views()` - ุนูุฏ ูุชุญ ุตูุญุฉ ุงูุชูุงุตูู (ููุฌููุน)
  - `get_request_view_stats()` - ุฅุญุตุงุฆูุงุช ููุตูุฉ
  - `get_request_view_count()` - ุนุฏุฏ ุงููุดุงูุฏุงุช ููุท

---

## ๐ ุงููุฑู ุงูุฑุฆูุณู ุจูู `request_views` ู `request_view_logs`

| ุงูุฎุงุตูุฉ | `request_views` | `request_view_logs` |
|---------|----------------|---------------------|
| **ุงูุฌูููุฑ** | ูุณุฌููู ููุท โ | ุฒูุงุฑ + ูุณุฌููู โ |
| **user_id** | ูุทููุจ (NOT NULL) | ุงุฎุชูุงุฑู (NULLABLE) |
| **session_id** | โ ุบูุฑ ููุฌูุฏ | โ ููุฌูุฏ |
| **is_read** | โ ููุฌูุฏ | โ ุบูุฑ ููุฌูุฏ |
| **ุงูุบุฑุถ** | ุญุงูุฉ ุงููุฑุงุกุฉ | ุฅุญุตุงุก ุงููุดุงูุฏุงุช |
| **ุงูุญุฌู** | ุตุบูุฑ (~35) | ูุจูุฑ (~12K+) |
| **ุงูุงุณุชุฎุฏุงู** | Badge, "ูู ุงูุชูุงูุงุชู" | ุนุฏุงุฏ ุงููุดุงูุฏุงุช, Analytics |

---

## โ ุงูุฎูุงุตุฉ

### ุงูุชุตูููุงุช
- โ **ูุง ููุฌุฏ ุชูุฑุงุฑ** - ูู ุฌุฏูู ูู ุบุฑุถ ูุฎุชูู ููุญุฏุฏ
- โ ุงูุชุตููู ุตุญูุญ - `categories` (ุฑุฆูุณู), `pending_categories` (ุงูุชุฑุงุญุงุช), `request_categories` (ุฑุจุท)

### ุงููุดุงูุฏุงุช
- โ๏ธ **ููุฌุฏ ุชุฏุงุฎู ูุธููู ูููู ููุตูุฏ** - ูู ุฌุฏูู ูู ุบุฑุถ ูุฎุชูู
- โ ุงูุชุตููู ุตุญูุญ - `request_views` (ุญุงูุฉ ุงููุฑุงุกุฉ ูููุณุฌููู), `request_view_logs` (ุฅุญุตุงุก ููุฌููุน)
- โ ุชู ุชูุถูุญ ุงููุตู ุจุฅุถุงูุฉ:
  - ุชุนูููุงุช ุชูุถูุญูุฉ ุนูู ุงูุฌุฏุงูู ูุงูุฃุนูุฏุฉ
  - ุชุนูููุงุช ุนูู ุงูุฏูุงู ุงููุณุงุนุฏุฉ
  - View ููููุงุฑูุฉ (`request_views_summary`)
  - ุชูุซูู ุดุงูู ูู `docs/REQUEST_VIEWS_SEPARATION.md`

---

## ๐ ุงููุฑุงุฌุน

- `docs/REQUEST_VIEWS_SEPARATION.md` - ุชูุซูู ููุตู
- Migration: `clarify_request_views_separation` - ุงูุชุนูููุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `services/requestViewsService.ts` - ุงูุงุณุชุฎุฏุงู ูู ุงูููุฏ
